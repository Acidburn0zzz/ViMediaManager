#tag WindowBegin Window wndAdvancedSettings   BackColor       =   &hFFFFFF   Backdrop        =   ""   CloseButton     =   True   Composite       =   False   Frame           =   0   FullScreen      =   False   HasBackColor    =   False   Height          =   5.69e+2   ImplicitInstance=   True   LiveResize      =   False   MacProcID       =   0   MaxHeight       =   32000   MaximizeButton  =   False   MaxWidth        =   32000   MenuBar         =   ""   MenuBarVisible  =   True   MinHeight       =   64   MinimizeButton  =   True   MinWidth        =   64   Placement       =   3   Resizeable      =   False   Title           =   "Advanced Settings"   Visible         =   True   Width           =   6.91e+2   Begin ccCancelSave CancelSave      AcceptFocus     =   ""      AcceptTabs      =   True      AutoDeactivate  =   True      BackColor       =   &hFFFFFF      Backdrop        =   ""      Enabled         =   True      EraseBackground =   True      HasBackColor    =   False      Height          =   22      HelpTag         =   ""      InitialParent   =   ""      Left            =   471      LockBottom      =   True      LockedInPosition=   False      LockLeft        =   False      LockRight       =   True      LockTop         =   False      Scope           =   0      TabIndex        =   0      TabPanelIndex   =   0      TabStop         =   True      Top             =   527      UseFocusRing    =   ""      Visible         =   True      Width           =   200   End   Begin PagePanel ppSettings      AutoDeactivate  =   True      Enabled         =   True      Height          =   515      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Left            =   0      LockBottom      =   True      LockedInPosition=   False      LockLeft        =   True      LockRight       =   True      LockTop         =   True      PanelCount      =   2      Panels          =   ""      Scope           =   0      TabIndex        =   2      TabPanelIndex   =   0      Top             =   0      Value           =   0      Visible         =   True      Width           =   691      Begin Label lblArray         AutoDeactivate  =   True         Bold            =   True         DataField       =   ""         DataSource      =   ""         Enabled         =   True         Height          =   20         HelpTag         =   ""         Index           =   0         InitialParent   =   "ppSettings"         Italic          =   ""         Left            =   20         LockBottom      =   ""         LockedInPosition=   False         LockLeft        =   True         LockRight       =   ""         LockTop         =   True         Multiline       =   ""         Scope           =   0         Selectable      =   False         TabIndex        =   0         TabPanelIndex   =   1         Text            =   "Log Level:"         TextAlign       =   2         TextColor       =   &h000000         TextFont        =   "System"         TextSize        =   0         TextUnit        =   0         Top             =   14         Transparent     =   False         Underline       =   ""         Visible         =   True         Width           =   150      End      Begin CheckBox chkLogLevelHidden         AutoDeactivate  =   True         Bold            =   ""         Caption         =   "Hidden"         DataField       =   ""         DataSource      =   ""         Enabled         =   True         Height          =   20         HelpTag         =   "Hides ""enable debugging"" guisetting."         Index           =   -2147483648         InitialParent   =   "ppSettings"         Italic          =   ""         Left            =   182         LockBottom      =   ""         LockedInPosition=   False         LockLeft        =   True         LockRight       =   ""         LockTop         =   True         Scope           =   0         State           =   0         TabIndex        =   1         TabPanelIndex   =   1         TabStop         =   True         TextFont        =   "System"         TextSize        =   0         TextUnit        =   0         Top             =   14         Underline       =   ""         Value           =   False         Visible         =   True         Width           =   100      End      Begin PopupMenu popLogLevel         AutoDeactivate  =   True         Bold            =   ""         DataField       =   ""         DataSource      =   ""         Enabled         =   True         Height          =   20         HelpTag         =   "The logging level that XBMC will use to log errors and information."         Index           =   -2147483648         InitialParent   =   "ppSettings"         InitialValue    =   "No logging, suppresses all log output\rNormal logging, only logging errors (default)\rDebug logging\rDebug logging with freemem, fps and cpu usage shown on screen\rDebug logging with freemem, fps and cpu usage and full smb logging"         Italic          =   ""         Left            =   294         ListIndex       =   1         LockBottom      =   ""         LockedInPosition=   False         LockLeft        =   True         LockRight       =   ""         LockTop         =   True         Scope           =   0         TabIndex        =   2         TabPanelIndex   =   1         TabStop         =   True         TextFont        =   "System"         TextSize        =   0         TextUnit        =   0         Top             =   13         Underline       =   ""         Visible         =   True         Width           =   377      End      Begin Label lblArray         AutoDeactivate  =   True         Bold            =   True         DataField       =   ""         DataSource      =   ""         Enabled         =   True         Height          =   20         HelpTag         =   ""         Index           =   1         InitialParent   =   "ppSettings"         Italic          =   ""         Left            =   20         LockBottom      =   ""         LockedInPosition=   False         LockLeft        =   True         LockRight       =   ""         LockTop         =   True         Multiline       =   ""         Scope           =   0         Selectable      =   False         TabIndex        =   3         TabPanelIndex   =   1         Text            =   "Package Folder Size:"         TextAlign       =   2         TextColor       =   &h000000         TextFont        =   "System"         TextSize        =   0         TextUnit        =   0         Top             =   45         Transparent     =   False         Underline       =   ""         Visible         =   True         Width           =   150      End      Begin TextField edtpackagefoldersize         AcceptTabs      =   ""         Alignment       =   3         AutoDeactivate  =   True         AutomaticallyCheckSpelling=   False         BackColor       =   &hFFFFFF         Bold            =   ""         Border          =   True         CueText         =   ""         DataField       =   ""         DataSource      =   ""         Enabled         =   True         Format          =   ""         Height          =   22         HelpTag         =   "The amount (in megabytes) of add-on zip packages saved from previous add-on installs. These packages are mainly used for the add-on rollback feature. Increasing the size should increase the amount of past versions saved."         Index           =   -2147483648         InitialParent   =   "ppSettings"         Italic          =   ""         Left            =   182         LimitText       =   0         LockBottom      =   ""         LockedInPosition=   False         LockLeft        =   True         LockRight       =   ""         LockTop         =   True         Mask            =   "#####"         Password        =   ""         ReadOnly        =   ""         Scope           =   0         TabIndex        =   4         TabPanelIndex   =   1         TabStop         =   True         Text            =   500         TextColor       =   &h000000         TextFont        =   "System"         TextSize        =   0         TextUnit        =   0         Top             =   44         Underline       =   ""         UseFocusRing    =   True         Visible         =   True         Width           =   80      End      Begin Label lblArray         AutoDeactivate  =   True         Bold            =   True         DataField       =   ""         DataSource      =   ""         Enabled         =   True         Height          =   20         HelpTag         =   ""         Index           =   2         InitialParent   =   "ppSettings"         Italic          =   ""         Left            =   286         LockBottom      =   ""         LockedInPosition=   False         LockLeft        =   True         LockRight       =   ""         LockTop         =   True         Multiline       =   ""         Scope           =   0         Selectable      =   False         TabIndex        =   5         TabPanelIndex   =   1         Text            =   "MB"         TextAlign       =   0         TextColor       =   &h000000         TextFont        =   "System"         TextSize        =   0         TextUnit        =   0         Top             =   45         Transparent     =   False         Underline       =   ""         Visible         =   True         Width           =   150      End      Begin UpDownArrows udPackageFolderSize         AcceptFocus     =   False         AutoDeactivate  =   True         Enabled         =   True         Height          =   23         HelpTag         =   ""         Index           =   -2147483648         InitialParent   =   "ppSettings"         Left            =   266         LockBottom      =   ""         LockedInPosition=   False         LockLeft        =   True         LockRight       =   ""         LockTop         =   True         Scope           =   0         TabIndex        =   6         TabPanelIndex   =   1         TabStop         =   True         Top             =   45         Visible         =   True         Width           =   13      End      Begin Label lblArray         AutoDeactivate  =   True         Bold            =   True         DataField       =   ""         DataSource      =   ""         Enabled         =   True         Height          =   20         HelpTag         =   ""         Index           =   3         InitialParent   =   "ppSettings"         Italic          =   ""         Left            =   20         LockBottom      =   ""         LockedInPosition=   False         LockLeft        =   True         LockRight       =   ""         LockTop         =   True         Multiline       =   ""         Scope           =   0         Selectable      =   False         TabIndex        =   7         TabPanelIndex   =   1         Text            =   "Skip Loop Filter:"         TextAlign       =   2         TextColor       =   &h000000         TextFont        =   "System"         TextSize        =   0         TextUnit        =   0         Top             =   80         Transparent     =   False         Underline       =   ""         Visible         =   True         Width           =   150      End      Begin PopupMenu popSkipLoopFilter         AutoDeactivate  =   True         Bold            =   ""         DataField       =   ""         DataSource      =   ""         Enabled         =   True         Height          =   20         HelpTag         =   "This amount of the loop filter to skip on h264 decoding. This can help the performance of slower machines when decoding h264 content. Values, in decreasing CPU usage (and decreasing quality)"         Index           =   -2147483648         InitialParent   =   "ppSettings"         InitialValue    =   "-16	None\r0	Skip only empty frames (default)\r8	Skip non-reference frames (default on ATV)\r16	Skip bi-dir frames\r32	Skip all non-key frames\r48	Skip all frames"         Italic          =   ""         Left            =   182         ListIndex       =   1         LockBottom      =   ""         LockedInPosition=   False         LockLeft        =   True         LockRight       =   ""         LockTop         =   True         Scope           =   0         TabIndex        =   8         TabPanelIndex   =   1         TabStop         =   True         TextFont        =   "System"         TextSize        =   0         TextUnit        =   0         Top             =   79         Underline       =   ""         Visible         =   True         Width           =   277      End      Begin Label lblArray         AutoDeactivate  =   True         Bold            =   True         DataField       =   ""         DataSource      =   ""         Enabled         =   True         Height          =   20         HelpTag         =   ""         Index           =   4         InitialParent   =   "ppSettings"         Italic          =   ""         Left            =   20         LockBottom      =   ""         LockedInPosition=   False         LockLeft        =   True         LockRight       =   ""         LockTop         =   True         Multiline       =   ""         Scope           =   0         Selectable      =   False         TabIndex        =   9         TabPanelIndex   =   1         Text            =   "cddbaddress:"         TextAlign       =   2         TextColor       =   &h000000         TextFont        =   "System"         TextSize        =   0         TextUnit        =   0         Top             =   111         Transparent     =   False         Underline       =   ""         Visible         =   True         Width           =   150      End      Begin TextField edtcddbaddress         AcceptTabs      =   ""         Alignment       =   1         AutoDeactivate  =   True         AutomaticallyCheckSpelling=   False         BackColor       =   &hFFFFFF         Bold            =   ""         Border          =   True         CueText         =   ""         DataField       =   ""         DataSource      =   ""         Enabled         =   True         Format          =   ""         Height          =   22         HelpTag         =   "The amount (in megabytes) of add-on zip packages saved from previous add-on installs. These packages are mainly used for the add-on rollback feature. Increasing the size should increase the amount of past versions saved."         Index           =   -2147483648         InitialParent   =   "ppSettings"         Italic          =   ""         Left            =   182         LimitText       =   0         LockBottom      =   ""         LockedInPosition=   False         LockLeft        =   True         LockRight       =   ""         LockTop         =   True         Mask            =   "#####"         Password        =   ""         ReadOnly        =   ""         Scope           =   0         TabIndex        =   10         TabPanelIndex   =   1         TabStop         =   True         Text            =   "freedb.freedb.org"         TextColor       =   &h000000         TextFont        =   "System"         TextSize        =   0         TextUnit        =   0         Top             =   110         Underline       =   ""         UseFocusRing    =   True         Visible         =   True         Width           =   277      End   End   Begin PushButton btnDefaults      AutoDeactivate  =   True      Bold            =   ""      ButtonStyle     =   0      Cancel          =   ""      Caption         =   "Defaults"      Default         =   ""      Enabled         =   True      Height          =   20      HelpTag         =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      Left            =   20      LockBottom      =   ""      LockedInPosition=   False      LockLeft        =   True      LockRight       =   ""      LockTop         =   True      Scope           =   0      TabIndex        =   3      TabPanelIndex   =   0      TabStop         =   True      TextFont        =   "System"      TextSize        =   0      TextUnit        =   0      Top             =   527      Underline       =   ""      Visible         =   True      Width           =   80   EndEnd#tag EndWindow#tag WindowCode	#tag Event		Sub Open()		  AdvancedSettingsFile = SpecialFolder.ApplicationData.Child("XBMC").Child("userdata").Child("advancedsettings.xml")		  If DebugBuild OR App.Experimental Then AdvancedSettingsFile = SpecialFolder.Desktop.Child("advancedsettings.xml")		  		  If AdvancedSettingsFile <> Nil And AdvancedSettingsFile.Exists Then ReadSettings		End Sub	#tag EndEvent	#tag Method, Flags = &h0		Sub ReadSettings()		  Dim Xml as New XmlDocument		  Dim xRoot, xNode, xItem as XmlNode		  Xml.PreserveWhitespace = False		  		  If AdvancedSettingsFile <> Nil And AdvancedSettingsFile.Exists Then		    Xml.LoadXml( ReadTextFile( AdvancedSettingsFile ) )		  Else		    Return		  End If		  		  xRoot = Xml.FirstChild		  		  If xRoot = Nil Then Return		  		  For i as Integer = 0 to xRoot.ChildCount -1		    xNode = xRoot.Child(i)		    		    Select Case xNode.Name		      		      // -- Log Level		    Case "loglevel"		      If xNode.AttributeCount > 0 Then chkLogLevelHidden.Value = ( xNode.GetAttribute("hide") = "True" )		      popLogLevel.ListIndex = Val( xNode.FirstChild.Value ) + 1		      		      // -- packagefoldersize		    Case "packagefoldersize"		      edtpackagefoldersize.Text = xNode.FirstChild.Value		      		      // -- SkipLoopFilter		    Case "skiploopfilter"		      Select Case xNode.FirstChild.Value		      Case "-16"		        popSkipLoopFilter.ListIndex = 0		      Case "0"		        popSkipLoopFilter.ListIndex = 1		      Case "8"		        popSkipLoopFilter.ListIndex = 2		      Case "16"		        popSkipLoopFilter.ListIndex = 3		      Case "32"		        popSkipLoopFilter.ListIndex = 4		      Case "48"		        popSkipLoopFilter.ListIndex = 5		      End Select		      		      		    Case "edtcddbaddress"		      edtcddbaddress.Text = xNode.FirstChild.Value		      		      		    End Select		    		    		  Next		  		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Sub WriteSettings()		  Dim Xml as New XmlDocument		  Dim xRoot, xNode, xItem as XmlNode		  Xml.PreserveWhitespace = True		  		  xRoot = Xml.AppendChild( Xml.CreateElement( "advancedsettings" ) )		  		  // ## Logging		  xNode = xRoot.AppendNewChild( "loglevel" )		  xNode.SetAttribute( "hide", Str( chkLogLevelHidden.Value ) )		  xNode.SetValue( Str( popLogLevel.ListIndex - 1 ) )		  		  // ## PackageFolderSize		  xRoot.AppendSimpleChild( "packagefoldersize", edtpackagefoldersize.Text )		  		  // SkipLoopFilter		  xRoot.AppendSimpleChild( "skiploopfilter", popSkipLoopFilter.Text.NthField( Chr(9), 1 ) )		  		  // edtcddbaddress		  xRoot.AppendSimpleChild( "edtcddbaddress", edtcddbaddress.Text )		  		  xRoot.Indent(0)		  WriteTextFile( xRoot.ToString, AdvancedSettingsFile )		End Sub	#tag EndMethod	#tag Note, Name = AdvancedSettings		http://wiki.xbmc.org/index.php?title=Advancedsettings.xml			#tag EndNote	#tag Property, Flags = &h0		AdvancedSettingsFile As FolderItem	#tag EndProperty#tag EndWindowCode#tag Events CancelSave	#tag Event		Sub ActionOK()		  WriteSettings()		  Close		End Sub	#tag EndEvent	#tag Event		Sub ActionCancel()		  Close		End Sub	#tag EndEvent#tag EndEvents#tag Events udPackageFolderSize	#tag Event		Sub Up()		  If Val( edtpackagefoldersize.Text ) < 9999 Then edtpackagefoldersize.Text = Str( Val( edtpackagefoldersize.Text ) + 1 )		End Sub	#tag EndEvent	#tag Event		Sub Down()		  If Val( edtpackagefoldersize.Text ) > 0 Then edtpackagefoldersize.Text = Str( Val( edtpackagefoldersize.Text ) - 1 )		End Sub	#tag EndEvent#tag EndEvents#tag Events btnDefaults	#tag Event		Sub Action()		  		  // -- LogLevel		  popLogLevel.ListIndex = 1		  chkLogLevelHidden.Value = False		  		  // -- PackageFolderSize		  edtpackagefoldersize.Text = "500"		  		  // -- SkipLoopFilter		  popSkipLoopFilter.ListIndex = 1		End Sub	#tag EndEvent#tag EndEvents